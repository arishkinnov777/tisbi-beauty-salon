<!DOCTYPE html>

<html lang="en">

{{>layout/header}}

<body>
<div class="container">

  {{>layout/header-visible}}

  {{>menu/admin-menu}}

  {{>layout/beradcrumbs}}

  <div class="container-fluid mt-3">
    {{#hasOrders}}
    <table class="table table-bordered">
      <thead>
      <tr>
        <th>#</th>
        <th>Дата создания</th>
        <th>Мастер</th>
        <th>Клиент</th>
        <th>Услуга</th>
        <th>Цена</th>
        <th>Запланированная дата визита</th>
        <th>Запланированное время</th>
        <th>Статус</th>
      </tr>
      </thead>
      <tbody>
      {{#orders}}
      <tr>
        <td>{{id}}</td>
        <td>{{createdAt}}</td>
        <td><a href="/admin/master/{{schedule.master.id}}/edit">{{schedule.master.name}}</a></td>
        <td><button type="button" class="btn btn-link" data-bs-toggle="popover" title="{{customer.name}}" data-bs-content="Телефон: {{customer.phone}}, Email: {{customer.email}}">{{customer.name}}</button></td>
        <td>{{service.title}}</td>
        <td>{{price}}</td>
        <td>{{schedule.date}}</td>
        <td>{{schedule.timeStart}}</td>
        <td>{{status}}</td>
      </tr>
      {{/orders}}
      </tbody>
    </table>
    {{/hasOrders}}
    {{^hasOrders}}
    <h2>Заказов не найдено</h2>
    {{/hasOrders}}
  </div>
  <script type="text/javascript">
    $(function () {
      const popoverTriggerList = document.querySelectorAll('[data-bs-toggle="popover"]')
      const popoverList = [...popoverTriggerList].map(popoverTriggerEl => new bootstrap.Popover(popoverTriggerEl))
    })
  </script>
</div>
</body>

</html>